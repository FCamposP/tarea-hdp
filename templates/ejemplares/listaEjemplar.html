{% extends 'base/base.html' %}
{% block title %}Ejemplares {% endblock %}
{% block contenido %}
<div class="table-responsive">
	<div class="row">
		<div class="col">
			<h6>Codigo del Recurso: {{ recurso.codigoRecurso }}</h6>
	    	<h6>Nombre: {{ recurso.nombreRecurso }}</h6>
	    	<h6>Tipo: {{ recurso.tipoRecurso }}</h6>
		</div>
		<div class="col" align="right">
			<br>
			<div class="container">
				<form method="post">
				<input type="hidden" name="recurso" value="{{ recurso.codigoRecurso }}"> 
				<a href="" class="btn btn-success" data-toggle="modal" data-target="#{{ recurso.codigoRecurso }}">
					<span class="fas fa-plus"></span>Agregar
				</a>
				<!--Modal -->
				<div class="modal fade" id="{{ recurso.codigoRecurso }}" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
				  <div class="modal-dialog" role="document">
				    <div class="modal-content">
				      <div class="modal-header">
				        <h5 class="modal-title" id="exampleModalLabel">Agregar Ejemplar</h5>
				        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
				          <span aria-hidden="true">&times;</span>
				        </button>
				      </div>
				      <div class="modal-body">
				        
					{% csrf_token %}
					<div class="row">		
						<div class="row">		
							<div class="col">				
								<div class="form-group"">
									{% if form %}
									{%for element in form %} 
					                <div class="form-group"> 
					                    <label class="col-md-12 control-label">
					                        {{element.label}}            
					                    </label> 
					                    <div class="col-md-12"> 
					                        {{element}} 
					                        <div class="error">
					                            {{element.errors}}
					                        </div>
					                    </div> 
					                </div> 
					                {% endfor %}
									{% endif %}
								</div>
							</div>
						</div>
					</div>
				
				      </div>
				      <div class="modal-footer">
				        <input class="btn btn-danger" type="submit" name="accion" value="Agregar">
				        <button type="button" class="btn btn-secondary" data-dismiss="modal">Cancelar</button>
				      </div>
				    </div>
				  </div>
				</div>
			</form>
			</div>
		</div>

	</div>
	<table class="table table-hover table-bordered">
		<thead class="table table-hover table-bordered">
			<tr class="table-success">
				<td class="font-weight-bold">Codigo</td>
				<td class="font-weight-bold">Nombre</td>
				<td class="font-weight-bold">Descripcion</td>
				<td class="font-weight-bold">Acciones</td>
			</tr>
		</thead>
		<tbody>
			{% if ejemplares %}
			{% for ejemplar in ejemplares %}
			<tr class="text-justify">
				<td>{{ ejemplar.codigoEjemplar }}</td>
				<td>{{ ejemplar.nombreEjemplar }}</td>
				<td>{{ ejemplar.descripcionEjemplar }}</td>
				<td>
					<a href="">Modificar</a>
					<div>
						<form method="POST">
			                {% csrf_token %}
			                <input type="hidden" name="ejemplar" value="{{ ejemplar.codigoEjemplar }}"> 
			                <a href="" data-toggle="modal" data-target="#{{ ejemplar.codigoEjemplar }}">Eliminar</a>
			                <!-- Modal -->
			                <div class="modal fade" id="{{ ejemplar.codigoEjemplar }}" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
			                  <div class="modal-dialog" role="document">
			                    <div class="modal-content">
			                      <div class="modal-header">
			                        <h5 class="modal-title" id="exampleModalLabel">Ventana de confirmación</h5>
			                        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
			                          <span aria-hidden="true">&times;</span>
			                        </button>
			                      </div>
			                      <div class="modal-body">
			                        ¿Esta seguro de eliminar el Ejemplar con codigo <b>{{ ejemplar.codigoEjemplar }}?</b>
			                      </div>
			                      <div class="modal-footer">
			                        <input class="btn btn-danger" type="submit" name="accion" value="Eliminar">
			                        <button type="button" class="btn btn-secondary" data-dismiss="modal">Cancelar</button>
			                      </div>
			                    </div>
			                  </div>
			                </div>
			             </form>
					</div>
				</td>
			</tr>
			{% endfor %}

			{% else %}
			<h2>No hay registros de ejemplares</h2>
			{% endif %}
		</tbody>
	</table>

</div>

{% endblock %}
